<div class="swalk-order-travel-list">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12 portlet-body">
                <div class="row">
                    <div>
                        <div class="crumb">
                            度假管理 <span class="crumb-arrow">></span> <span class="second">订单管理</span>
                        </div>
                    </div>
                    <div class="body-head">
                        <div class="col-md-12">
                            <div class="row margin-bottom">
                                <div style="float: left;padding-right: 10px;line-height: 34px;" class="text-right">开始日期:</div>
                                <div style="width: 140px;float: left">
                                    <input class="form-control"  datepicker-popup="yyyy-MM-dd" size="16" type="text" ng-model="startDate" readonly datetimez/>
                                </div>
                                <div style="float: left;padding-right: 10px;padding-left: 15px;line-height: 34px;" class="text-right">结束日期:</div>
                                <div style="width: 140px;float: left">
                                    <input class="form-control"  datepicker-popup="yyyy-MM-dd" size="16" type="text" ng-model="endDate" readonly datetimez/>
                                </div>
                                <!--<button type="button" class="btn btn-green btn-add" ng-click="excelExport()" style="margin-left: 20px">导出excel</button>-->
                                <button down-file="{{excelExportUrl()}}" down-file-type="xlsx" class="btn btn-green btn-add" start-date="{{startDate}}" end-date="{{endDate}}" data-name="订单.xls" style="margin-left: 20px">导出excel</button>
                            </div>
                            <div class="row">
                                <div class="form-group form-inline">
                                    <!--<label>订单号</label>-->
                                    <!--<input ng-model="searchVal" class="form-control input-inline" enter-search enterfun="search()" style="padding: 8px 10px;margin-left: 8px" placeholder="请输入订单号"/>-->

                                    <div class="order-label" style="margin: 0;padding-left: 12px;">订单号:</div>
                                    <input ng-model="orderNo" class="form-control input-inline"  enter-search enterfun="search()"  placeholder="请输入订单号" style="padding: 8px 10px;margin-left: 8px;width: 140px;" />
                                    <div class="order-label">联系人:</div>
                                    <input ng-model="contactsName" class="form-control input-inline" placeholder="请输入完整姓名"   enter-search enterfun="search()" style="padding: 8px 10px;margin-left: 8px;width: 140px;" />
                                    <div class="order-label">联系电话:</div>
                                    <input ng-model="contactsPhone" class="form-control input-inline" placeholder="请输入完整号码"  enter-search enterfun="search()" style="padding: 8px 10px;margin-left: 8px;width: 140px;" />
                                    <div class="order-label">订单状态:</div>
                                    <select class="form-control input-inline" ng-model="orderStatus" ng-change="search()" style="width: 140px">
                                        <option value="">--请选择--</option>
                                        <option value="2">已支付</option>
                                        <option value="3">已完成</option>
                                        <option value="-1">取消</option>
                                        <option value="-2">已取消</option>
                                        <option value="-3">已拒单</option>
                                    </select>


                                    <input type="button" class="btn btn-detail" value="查询" ng-click="search();" style="margin-left: 8px">
                                    <button type="button" class="btn btn-success btn-reset" ng-click="reset()">重置</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table-scrollable">
                        <div class="search-info" ng-if="searchInfo">
                            以下为
                            <span ng-if="orderNoBackup != ''"> "订单号：{{orderNoBackup}}" </span>
                            <span ng-if="contactsNameBackup != ''"> "联系人：{{contactsNameBackup}}" </span>
                            <span ng-if="contactsPhoneBackup != ''"> "联系电话：{{contactsPhoneBackup}}" </span>
                            <span ng-if="orderStatusStr != ''"> "订单状态：{{orderStatusStr}}" </span>
                            的搜索结果
                        </div>
                        <table class="table table-bordered table-checkable table1 table-new" id="sample_1">
                            <thead>
                            <tr>
                                <th>订单号</th>
                                <th>产品名称</th>
                                <th>数量</th>
                                <th>起止日期</th>
                                <th>联系人姓名</th>
                                <th>联系人电话</th>
                                <th>价格</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="order in travelOrderList">
                                <td>{{order.orderNo}}</td>
                                <td>{{order.productName}}</td>
                                <td>{{order.number}}</td>
                                <td>
                                    <p>{{order.startDate}}</p>
                                    <p>{{order.endDate}}</p>
                                </td>
                                <td>{{order.contactsName}}</td>
                                <td>{{order.contactsPhone}}</td>
                                <td>{{order.price}}</td>
                                <td>{{order.orderStatusText}}</td>
                                <td>
                                    <a class="new-btn new-btn-detail" ng-click="order.cancel()" ng-show="order.orderStatus == -1">确认取消</a>
                                    <a class="new-btn new-btn-detail" ng-click="order.refuse()" ng-show="order.orderStatus == 2 ">拒单</a>
                                    <a class="new-btn new-btn-detail" ng-click="order.success()" ng-show="order.orderStatus == 2">确认</a>
                                    <a class="new-btn new-btn-blue" ng-click="print(order)">打印订单</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-12">
                        <tm-pagination conf="paginationConf"></tm-pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>